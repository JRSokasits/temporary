<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>user registration</title>
    <link rel = "stylesheet" href = "styles.css">

    <style>        
    </style>
</head>
<script>
//    async (?) function createAccount() {
//    }  post middleware to database on server, in routes

      function goToMainPage() {
        window.location.href ="index.html";
      }
      function goToStoriesPage() {
        window.location.href ="display.html";
      }
</script>

    <body style = "text-align:center;">
    <header>Carnegie Mellon Tech Bridge Coding Boot Camp</header>
    <h2>Account Creation</h2>
    <p>Enter a username and password for your account.</p>
  <form id="login-form" onsubmit="return false;">
    <input type="text" id="username" placeholder="username"><br>
    <span id="usernameError";></span>

    <input type="password" id="password" placeholder="password"><br>
    <span id="passwordError";></span><br>

    <button type="button" onclick="createAccount()">create account</button>
    <br>
    <br>
    <button type="button" onclick="goToMainPage()">main page</button>
    <button type="button" onclick="goToStoriesPage()">stories page</button>
  </form>    
  <br>
  <br>
<footer>Carnegie Mellon Tech Bridge Coding Boot Camp</footer>
    
//register new user 
  app.post("/api/register", async (req, res) => {
  const { username, password } = req.body;
  const hashedPassword = await bcrypt.hash(password, 10);

  const newUser = new User({ username, password: hashedPassword });
  await newUser.save();

  res.json({ success: true, message: "User registered" });
});

app.listen(5000, () => console.log("Server running on http://localhost:5000"));
</body>
</html>